@{
    ViewData["Title"] = "Asistent AI";
}

<div class="container mt-5">
    <h1 class="mb-4">Asistent AI pentru baza de date</h1>

    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            @TempData["Error"]
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    }

    <div class="card shadow-sm">
        <div class="card-body">
            <form asp-action="GenerateSQL" method="post">
                @Html.AntiForgeryToken()
                <div class="mb-3">
                    <label for="userPrompt" class="form-label">
                        Scrie o instrucțiune în limbaj natural:
                        <br />
                        <small class="text-muted">
                            ex: “Creează în tabela Users o coloană Age INT” sau  
                            “Inserează în Products un rând cu Name='Televizor', Price=1999.99, Stock=10”
                        </small>
                    </label>
                    <textarea id="userPrompt"
                              name="userPrompt"
                              rows="4"
                              class="form-control"
                              placeholder="Ex: Creează o coloană 'City' VARCHAR(100) în tabelul 'Customers'"
                              required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">
                    <i class="bi bi-lightbulb-fill"></i> Generează SQL
                </button>
                <a asp-controller="Home" asp-action="Index" class="btn btn-secondary ms-2">
                    <i class="bi bi-house-fill"></i> Homepage
                </a>
            </form>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+AMvyMiZ6Y/1MxF3Wlm0y6UOm5XQ/"
            crossorigin="anonymous"></script>
}
